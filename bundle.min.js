function rectangle(){return{perimeter:function(e,t){return 2*(e+t)},area:function(e,t){return e*t}}}function validate(e){var t=$(e),r=$(e+"-validation-message");return""===t.val()?(r.html("不能为空"),t.select(),!1):/^-?(0|[1-9]\d*)(\.\d*)?([eE][+-]?\d+)?/.test(t.val())?t.val()<0?(r.html("必须大于零"),t.select(),!1):(r.html(""),!0):(r.html("必须是数值"),t.select(),!1)}function isLegalKey(e,t,r,n){if(!/[abcdf-zABCDF-Z`~!@#$%^&*()\-=_+[\]{}|;:'",<>/?\\]/.test(t)){if("e"===t){if(0===n||-1!==r.indexOf("e")||-1!==r.indexOf("E"))return void e.preventDefault();if(1===n&&"-"===r.substring(0,1))return void e.preventDefault()}if("E"===t){if(0===n||-1!==r.indexOf("e")||-1!==r.indexOf("E"))return void e.preventDefault();if(1===n&&"-"===r.substring(0,1))return void e.preventDefault()}if("."===t){if(0===n||-1!==r.indexOf("."))return void e.preventDefault();if(1===n&&"-"===r.substring(0,1))return void e.preventDefault()}return!0}e.preventDefault()}$(function(){var u=$("#width"),l=$("#height"),e=$("#calculate"),f=$("#perimeter"),o=$("#area");$forkMeGH.show("https://github.com/wanglinawln/rectangle"),$bszPageFooter.show("body"),e.click(function(){function e(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(validate("#width")&&validate("#height")){var t=Number(u.val()),r=Number(l.val()),n=rectangle(),a=e(n.perimeter(t,r),2),i=e(n.area(t,r),2);f.val(a),o.val(i)}}),u.focusout(function(){validate("#width")||u.select()}),l.focusout(function(){validate("#height")||l.select()}),u.keypress(function(e){isLegalKey(e,e.key,e.target.value,e.target.selectionStart)||e.preventDefault()}),l.keypress(function(e){isLegalKey(e,e.key,e.target.value,e.target.selectionStart)||e.preventDefault()})});